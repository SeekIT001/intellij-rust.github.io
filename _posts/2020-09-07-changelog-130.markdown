---
layout: post
title: "IntelliJ Rust Changelog #130"
date: 2020-09-07 11:00:00 +0300
---


## New Features

<!-- https://github.com/intellij-rust/intellij-rust/pull/5459 -->
<!-- https://github.com/intellij-rust/intellij-rust/pull/6038 -->
* Provide `Inline` refactoring for local variables (`Refactor | Inline` or <kbd>Ctrl</kbd> + <kbd>Alt</kbd> + <kbd>N</kbd>) (by [@Kobzol])

    {% include gif-img.html path="/assets/posts/changelog-130/inline" w="700px" %}

<!-- https://github.com/intellij-rust/intellij-rust/pull/5352 -->
<!-- https://github.com/intellij-rust/intellij-rust/pull/6037 -->
* Provide `Generate Getters` and `Generate Setters` actions for struct fields.
Actions can be invoked from `Generate` menu (`Code | Generate` or <kbd>Alt</kbd> + <kbd>Insert</kbd>) (by [@Kobzol])

    {% include gif-img.html path="/assets/posts/changelog-130/generate_getter_setter" w="700px" %}

* Improvements of `Move` refactoring for top-level items (`Refactor | Move` or <kbd>F6</kbd>):
    <!-- https://github.com/intellij-rust/intellij-rust/pull/5664 -->
    * Move related `impl`s together with moved items

    <!-- https://github.com/intellij-rust/intellij-rust/pull/5663 -->
    * Handle editor selection to choose initial items in refactoring dialog

        {% include gif-img.html path="/assets/posts/changelog-130/move" w="700px" %}

    <!-- https://github.com/intellij-rust/intellij-rust/pull/5920 -->
    * Support reexports

    <!-- https://github.com/intellij-rust/intellij-rust/pull/5979 -->
    * Check visibility conflicts

<!-- https://github.com/intellij-rust/intellij-rust/pull/5505 -->
<!-- https://github.com/intellij-rust/intellij-rust/pull/6019 -->
<!-- https://github.com/intellij-rust/intellij-rust/pull/6050 -->
* Provide intention to create a function from an unresolved function call (by [@Kobzol])

    {% include gif-img.html path="/assets/posts/changelog-130/create_function" w="700px" %}

<!-- https://github.com/intellij-rust/intellij-rust/pull/6001 -->
* Add project template for procedural macro. [Recently](/2020/08/10/changelog-128.html) we
improved `New project` dialog to support `cargo-generate` templates. In this release we add
[@eupn's template](https://github.com/eupn/rust-procmacro-quickstart-template) that makes it
easy to create a procedural macro project.

<!-- https://github.com/intellij-rust/intellij-rust/pull/5846 -->
* Provide command completion for `wasm-pack` Run Configurations (that was added in the [previous release](/2020/08/24/changelog-129.html))
and `Run Anything` (double <kbd>Ctrl</kbd>)

## Performance Improvements

<!-- https://github.com/intellij-rust/intellij-rust/pull/5989 -->
<!-- https://github.com/intellij-rust/intellij-rust/pull/6012 -->
* Don't expand macros disabled by `#[cfg]` attributes. This reduces overall macro expansion time

## Fixes

<!-- https://github.com/intellij-rust/intellij-rust/pull/5949 -->
* Don't unescape backslashes in Rust test output. Fixes many issues with incorrect test output

<!-- https://github.com/intellij-rust/intellij-rust/pull/6031 -->
* Properly resolve re-exports of `crate`-relative paths
(see the corresponding [bug](https://github.com/intellij-rust/intellij-rust/issues/5961))

<!-- https://github.com/intellij-rust/intellij-rust/pull/5864 -->
* Fix macro name resolution: macros from local import should shadow macros from crate root

<!-- https://github.com/intellij-rust/intellij-rust/pull/6024 -->
* Don't check name conventions for `static`s in `extern` blocks

<!-- https://github.com/intellij-rust/intellij-rust/pull/6008 -->
* Exclude `build` directory of [rustc](https://github.com/rust-lang/rust) project from IDE index

<!-- https://github.com/intellij-rust/intellij-rust/pull/5998 -->
* Don't annotate format-like macros where format string is generated by macro
to avoid [false positives](https://github.com/intellij-rust/intellij-rust/issues/5994) (by [@Kobzol])

<!-- https://github.com/intellij-rust/intellij-rust/pull/6028 -->
* Show `No Rust toolchain configured` notification in `Cargo.toml`.
Previously this notification was shown only for Rust files

<!-- https://github.com/intellij-rust/intellij-rust/pull/5993 -->
* Attach `stdarch` and `backtrace` stdlib parts as project dependencies properly.
It fixes search inside them. Also, this improves analysis performance for code that uses `stdarch`

<!-- https://github.com/intellij-rust/intellij-rust/pull/5986 -->
* Fix name resolution of nested modules in modules linked to a project with a `#[path = ""]`
attributes from other directories

<!-- https://github.com/intellij-rust/intellij-rust/pull/5966 -->
* Fix [false positive](https://github.com/intellij-rust/intellij-rust/issues/5965) unresolved reference error
if you call trait method via UFCS and trait is not in the scope

<!-- https://github.com/intellij-rust/intellij-rust/pull/5990 -->
* Fix [exceptions](https://github.com/intellij-rust/intellij-rust/issues/5984) while documentation rendering

<!-- https://github.com/intellij-rust/intellij-rust/pull/5945 -->
* Fix [exception](https://github.com/intellij-rust/intellij-rust/pull/5945) on build cancel
with new `Build` tool window.
You can enable it via `org.rust.cargo.build.tool.window` option in `Experimental Features` panel

<!-- https://github.com/intellij-rust/intellij-rust/pull/6032 -->
* Disable `Substitute associated type` intention for type aliases (by [@Kobzol])

<!-- https://github.com/intellij-rust/intellij-rust/pull/5959 -->
* Fix project creation via `cargo-generate` template when project name contains underscores `_`

<!-- https://github.com/intellij-rust/intellij-rust/pull/5929 -->
* Use project name instead of directory name as default package name while new project creation
(see [the issue](https://github.com/intellij-rust/intellij-rust/issues/5922))

<!-- https://github.com/intellij-rust/intellij-rust/pull/5980 -->
* Display `Cargo` package name instead of project directory name in `Cargo` tool window and run configurations


Full set of changes can be found [here](https://github.com/intellij-rust/intellij-rust/milestone/38?closed=1)

[@Kobzol]: https://github.com/Kobzol
